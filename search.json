[{"path":"https://dorleventer.github.io/rddid/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Dor Leventer Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://dorleventer.github.io/rddid/articles/rddid-constant.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"rddid-constant","text":"example notebook estimate treatment effects RDDID designs constant potential outcome discontinuities assumption. identification framework based Corollary 1() Leventer Nevo (2024). estimation framework presented Section 6 paper. First, lets install rddid package.","code":"library(rddid)"},{"path":"https://dorleventer.github.io/rddid/articles/rddid-constant.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"rddid-constant","text":"create easy example can replicated, use simulated data paper. now, lets go repeated cross section (CS) sampling scheme.","code":"data = rddid::sim_data(n = 1000, dgp_type = \"cs\", seed = 42) head(data) #>   id time         R          Y #> 1  1    1 -779.8628 -168.06380 #> 2  2    1  222.9480   38.29847 #> 3  3    1  571.5254  287.49376 #> 4  4    1  274.6925 -148.37461 #> 5  5    1 -325.2025  359.70440 #> 6  6    1 1770.1208  153.45235"},{"path":"https://dorleventer.github.io/rddid/articles/rddid-constant.html","id":"estimate-treatment-effects","dir":"Articles","previous_headings":"","what":"Estimate treatment effects","title":"rddid-constant","text":"Next, lets estimate effect time 2, assuming potential outcome discontinuitites constant across time. output conventional (C) bias-corrected (BC) estimators. standard errors sampling schemes (CS, PC PV) outputed–researcher needs use one fits application.","code":"rddid::mult_period_est(df = data, t_star = 2, t_vec = 1, w_vec = 1, h = 600, b = 1200) #>   method       est    se_cs    se_pc    se_pv #> 1      C -176.5106 45.89763 46.06091 44.99610 #> 2     BC -195.7489 51.13259 51.34166 50.27406"},{"path":"https://dorleventer.github.io/rddid/articles/rddid-linear-trend.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"rddid-linear-trend","text":"example notebook estimate treatment effects RDDID designs assumption potential outcome discontinuities evolve linearly time. identification framework based Corollary 1(ii) Leventer Nevo (2024). estimation framework presented Supplementary Appendix. First, lets install rddid package.","code":"library(rddid) library(tidyverse) #> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── #> ✔ dplyr     1.1.4     ✔ readr     2.1.5 #> ✔ forcats   1.0.0     ✔ stringr   1.5.1 #> ✔ ggplot2   3.5.1     ✔ tibble    3.2.1 #> ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 #> ✔ purrr     1.0.4      #> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── #> ✖ dplyr::filter() masks stats::filter() #> ✖ dplyr::lag()    masks stats::lag() #> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors"},{"path":"https://dorleventer.github.io/rddid/articles/rddid-linear-trend.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"rddid-linear-trend","text":"create easy example can replicated, use simulated data paper. Lets create dataset 3 time periods, discontinuity 100 time 1, 200 time 2, 400 time 3 (assuming time 3 RD period interest). discontinuity evolves linearly, 300 time 3 without RD, implying treatment effect 400−300=100400-300=100. ’ll manipulate simulated data (provided package) bit achieve sample line setup. confirm setup, lets estimate RD time period separately.","code":"data = rbind(   rddid::sim_data(n = 2000, dgp_type = \"cs\", seed = 1, jump_t2 = 100) |> filter(time == 2) |> mutate(time = 1),   rddid::sim_data(n = 2000, dgp_type = \"cs\", seed = 2, jump_t2 = 200) |> filter(time == 2) |> mutate(time = 2),   rddid::sim_data(n = 2000, dgp_type = \"cs\", seed = 3, jump_t2 = 400) |> filter(time == 2) |> mutate(time = 3) ) data |> arrange(id, time) |> head() #>   id time          R         Y #> 1  1    1  -764.6192 552.02040 #> 2  1    2  -583.1092  71.29751 #> 3  1    3   784.1154 775.60112 #> 4  2    1 -1072.4951 401.56099 #> 5  2    2   204.5586 420.57994 #> 6  2    3  -401.9826 122.28915 cat(\"RD in period 1: \", round(rdrobust::rdrobust(x = data$R[data$time == 1], y = data$Y[data$time == 1])$coef[1], 1), \"\\n\") #> RD in period 1:  88.2 cat(\"RD in period 2: \", round(rdrobust::rdrobust(x = data$R[data$time == 2], y = data$Y[data$time == 2])$coef[1], 1), \"\\n\") #> RD in period 2:  219.4 cat(\"RD in period 3: \", round(rdrobust::rdrobust(x = data$R[data$time == 3], y = data$Y[data$time == 3])$coef[1], 1), \"\\n\") #> RD in period 3:  421.1"},{"path":"https://dorleventer.github.io/rddid/articles/rddid-linear-trend.html","id":"estimate-treatment-effects","dir":"Articles","previous_headings":"","what":"Estimate treatment effects","title":"rddid-linear-trend","text":"First, Can see assuming PO discontinuities constant time wrong. Second, output conventional (C) bias-corrected (BC) estimators. standard errors sampling schemes (CS, PC PV) outputed–researcher needs use one fits application.","code":"rddid::mult_period_est(df = data, t_star = 3, t_vec = c(1,2), w_vec = c(.5, .5), h = 600, b = 1200) #>   method      est    se_cs    se_pc    se_pv #> 1      C 268.0484 30.83831 30.69308 30.98923 #> 2     BC 276.3070 34.53370 34.46540 34.82429 rddid::linear_in_time_period_est(df = data, t_star = 3, h = 600, b = 1200, t_vec = c(1,2)) #>   method      est    se_cs    se_pc    se_pv #> 1      C 67.23062 57.46015 57.68746 57.27606 #> 2     BC 82.05390 64.44402 64.75482 64.18325"},{"path":"https://dorleventer.github.io/rddid/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dor Leventer. Author, maintainer.","code":""},{"path":"https://dorleventer.github.io/rddid/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Leventer D (2025). rddid: Estimate treatment effects RDDID designs. R package version 0.0.0.9000, https://dorleventer.github.io/rddid/.","code":"@Manual{,   title = {rddid: Estimate treatment effects in RDDID designs},   author = {Dor Leventer},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://dorleventer.github.io/rddid/}, }"},{"path":"https://dorleventer.github.io/rddid/index.html","id":"rddid","dir":"","previous_headings":"","what":"Estimate treatment effects in RDDID designs","title":"Estimate treatment effects in RDDID designs","text":"goal rddid estimate treatment effects RDDID settings, implementing estimation framework proposed Leventer Nevo (2024). Functions RD estimation single time periods based rdrobust code.","code":""},{"path":"https://dorleventer.github.io/rddid/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Estimate treatment effects in RDDID designs","text":"can install development version rddid GitHub :","code":"devtools::install_github(\"dorleventer/rddid\")"},{"path":"https://dorleventer.github.io/rddid/index.html","id":"in-progress","dir":"","previous_headings":"","what":"In Progress","title":"Estimate treatment effects in RDDID designs","text":"package currently work progess. following items list Generalize function inputs Generalize two time periods (requires analytical derivation)","code":""},{"path":"https://dorleventer.github.io/rddid/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Estimate treatment effects in RDDID designs","text":"examples see Estimation constant PO discontinuity assumption notebook. Estimation linear time PO discontinuity assumption notebook.","code":""},{"path":"https://dorleventer.github.io/rddid/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Estimate treatment effects in RDDID designs","text":"Leventer, D., & Nevo, D. (2024). Correcting invalid regression discontinuity designs multiple time period data. arXiv preprint arXiv:2408.05847.","code":""},{"path":"https://dorleventer.github.io/rddid/reference/cov_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate covariance between two outcome discontinuity estimators — cov_fun","title":"Calculate covariance between two outcome discontinuity estimators — cov_fun","text":"Calculate covariance two outcome discontinuity estimators","code":""},{"path":"https://dorleventer.github.io/rddid/reference/cov_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate covariance between two outcome discontinuity estimators — cov_fun","text":"","code":"cov_fun(ids1, ids2, res1, res2)"},{"path":"https://dorleventer.github.io/rddid/reference/cov_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate covariance between two outcome discontinuity estimators — cov_fun","text":"ids1 ids vector period 1 ids2 ids vector period 2 res1 residuals local linear regression period 1 res2 residuals local linear regression period 2","code":""},{"path":"https://dorleventer.github.io/rddid/reference/cov_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate covariance between two outcome discontinuity estimators — cov_fun","text":"covariance matrix","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_bc.html","id":null,"dir":"Reference","previous_headings":"","what":"The four covariances between 2 time periods for bias corrected estimation — covariances_bc","title":"The four covariances between 2 time periods for bias corrected estimation — covariances_bc","text":"four covariances 2 time periods bias corrected estimation","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_bc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The four covariances between 2 time periods for bias corrected estimation — covariances_bc","text":"","code":"covariances_bc(x1, x2, y1, y2, h, b, ids1, ids2)"},{"path":"https://dorleventer.github.io/rddid/reference/covariances_bc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The four covariances between 2 time periods for bias corrected estimation — covariances_bc","text":"x1 running variable period 1 x2 running variable period 2 y1 outcome variable period 1 y2 outcome variable period 2 h bandwidth b bias correction bandwidth ids1 id vector period 1 ids2 id vector period 2","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_bc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The four covariances between 2 time periods for bias corrected estimation — covariances_bc","text":"four covariances","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_c.html","id":null,"dir":"Reference","previous_headings":"","what":"The four covariances between 2 time periods for conventional estimation — covariances_c","title":"The four covariances between 2 time periods for conventional estimation — covariances_c","text":"four covariances 2 time periods conventional estimation","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The four covariances between 2 time periods for conventional estimation — covariances_c","text":"","code":"covariances_c(x1, x2, y1, y2, h, b, ids1, ids2)"},{"path":"https://dorleventer.github.io/rddid/reference/covariances_c.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The four covariances between 2 time periods for conventional estimation — covariances_c","text":"x1 running variable period 1 x2 running variable period 2 y1 outcome variable period 1 y2 outcome variable period 2 h bandwidth b bias correction bandwidth ids1 id vector period 1 ids2 id vector period 2","code":""},{"path":"https://dorleventer.github.io/rddid/reference/covariances_c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The four covariances between 2 time periods for conventional estimation — covariances_c","text":"four covariances","code":""},{"path":"https://dorleventer.github.io/rddid/reference/linear_in_time_period_est.html","id":null,"dir":"Reference","previous_headings":"","what":"RDDID Estimation — linear_in_time_period_est","title":"RDDID Estimation — linear_in_time_period_est","text":"function estimates ATU ATT using RDDID framework, assuming potential outcome discontinuities evolve linearly across time.","code":""},{"path":"https://dorleventer.github.io/rddid/reference/linear_in_time_period_est.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"RDDID Estimation — linear_in_time_period_est","text":"","code":"linear_in_time_period_est(   df,   t_star,   h,   b,   t_vec,   tname = \"time\",   xname = \"R\",   yname = \"Y\",   idname = \"id\" )"},{"path":"https://dorleventer.github.io/rddid/reference/linear_in_time_period_est.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"RDDID Estimation — linear_in_time_period_est","text":"df dataframe t_star time period RD treatment h bandwidth b bias correction bandwidth t_vec vector time periods estimate linear trend tname name time period variable df xname name running variable df yname name outcome variable df idname name id variable df","code":""},{"path":"https://dorleventer.github.io/rddid/reference/linear_in_time_period_est.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"RDDID Estimation — linear_in_time_period_est","text":"Conventional (C) Bias Corrected (BC) treatment effect estimates standard errors (SE). SEs provided sampling repeated cross section (CS), panel constant running variable (PC) varying running variable (PV).","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mat_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate needed objects for local linear estimation — mat_fun","title":"Calculate needed objects for local linear estimation — mat_fun","text":"Calculate needed objects local linear estimation","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mat_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate needed objects for local linear estimation — mat_fun","text":"","code":"mat_fun(x, y, h, b, v = 0, p = 1, q = 2, c = 0, kernel = \"\", ids = NULL)"},{"path":"https://dorleventer.github.io/rddid/reference/mat_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate needed objects for local linear estimation — mat_fun","text":"x running variable y outcome variable h bandwidth b bias correction bandwidth v derivative p polynomial q bias correction polynomial c cutoff kernel kernel type ids id vector","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mat_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate needed objects for local linear estimation — mat_fun","text":"conventional bias corrected estimators, related objects","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mult_period_est.html","id":null,"dir":"Reference","previous_headings":"","what":"RDDID Estimation — mult_period_est","title":"RDDID Estimation — mult_period_est","text":"function estimates ATU ATT using RDDID framework, assuming potential outcome discontinuities constant across time.","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mult_period_est.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"RDDID Estimation — mult_period_est","text":"","code":"mult_period_est(   df,   t_star,   t_vec,   w_vec,   h,   b,   tname = \"time\",   xname = \"R\",   yname = \"Y\",   idname = \"id\" )"},{"path":"https://dorleventer.github.io/rddid/reference/mult_period_est.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"RDDID Estimation — mult_period_est","text":"df dataframe t_star time period RD treatment t_vec time period bias estimation w_vec weights t_vec time periods h bandwidth b bias correction bandwidth tname name time period variable df xname name running variable df yname name outcome variable df idname name id variable df","code":""},{"path":"https://dorleventer.github.io/rddid/reference/mult_period_est.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"RDDID Estimation — mult_period_est","text":"Conventional (C) Bias Corrected (BC) treatment effect estimates standard errors (SE). SEs provided sampling repeated cross section (CS), panel constant running variable (PC) varying running variable (PV).","code":""},{"path":"https://dorleventer.github.io/rddid/reference/sim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"A simulated data-frame — sim_data","title":"A simulated data-frame — sim_data","text":"simulated data-frame","code":""},{"path":"https://dorleventer.github.io/rddid/reference/sim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A simulated data-frame — sim_data","text":"","code":"sim_data(n, seed, dgp_type, jump_t1 = 63, jump_t2 = -63)"},{"path":"https://dorleventer.github.io/rddid/reference/sim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A simulated data-frame — sim_data","text":"n number observations seed random seed dgp_type CS, PC, PV jump_t1, jump_t2 Outcome discontinuity time periods 1 2","code":""},{"path":"https://dorleventer.github.io/rddid/reference/sim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A simulated data-frame — sim_data","text":"data-frame simulated RDDID data 2 periods based Grembi et al (2016) application.","code":""},{"path":"https://dorleventer.github.io/rddid/reference/simulate_dgp.html","id":null,"dir":"Reference","previous_headings":"","what":"The Data Generating Process for RDDID — simulate_dgp","title":"The Data Generating Process for RDDID — simulate_dgp","text":"Data Generating Process RDDID","code":""},{"path":"https://dorleventer.github.io/rddid/reference/simulate_dgp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The Data Generating Process for RDDID — simulate_dgp","text":"","code":"simulate_dgp(dgp_type, seed = 1, params = list())"},{"path":"https://dorleventer.github.io/rddid/reference/simulate_dgp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The Data Generating Process for RDDID — simulate_dgp","text":"dgp_type CS, PC, PV seed random seed params dgp parameters","code":""},{"path":"https://dorleventer.github.io/rddid/reference/simulate_dgp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The Data Generating Process for RDDID — simulate_dgp","text":"data-frame simulated RDDID data 2 periods based Grembi et al (2016) application.","code":""},{"path":"https://dorleventer.github.io/rddid/reference/single_period_est.html","id":null,"dir":"Reference","previous_headings":"","what":"RD estimates for single time period — single_period_est","title":"RD estimates for single time period — single_period_est","text":"RD estimates single time period","code":""},{"path":"https://dorleventer.github.io/rddid/reference/single_period_est.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"RD estimates for single time period — single_period_est","text":"","code":"single_period_est(x, y, h, b, v = 0, p = 1, q = 2, c = 0, kernel = \"\")"},{"path":"https://dorleventer.github.io/rddid/reference/single_period_est.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"RD estimates for single time period — single_period_est","text":"x running variable y outcome variable h bandwidth b bias correction bandwidth v derivative p polynomial q bias correction polynomial c cutoff kernel type kernel","code":""},{"path":"https://dorleventer.github.io/rddid/reference/single_period_est.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"RD estimates for single time period — single_period_est","text":"Outcome discontinuity estimates standard errors","code":""}]
